(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,n,t){e.exports={selectable:"selectable_selectable__1ujXG",active:"selectable_active__2l-hj"}},24:function(e,n,t){e.exports=t(35)},29:function(e,n,t){},30:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(7),o=t.n(i),l=(t(29),t(30),t(1)),c=t(22),u=t.n(c),s=t(18),f=t.n(s);var d=function(e){var n=e.onClick,t=e.i18nKey,a=e.editing;return r.a.createElement("div",{onClick:n,className:u()(f.a.selectable,a?f.a.active:"")},r.a.createElement("p",null,t))},p=t(8),h=t.n(p),b=function(e){var n=e.translations,t=e.markEditing;return r.a.createElement("div",{className:h.a.scrollable},n.map(function(e){return r.a.createElement(d,Object.assign({key:e.id,onClick:function(){return t(e.id)}},e))}))},v=Object(l.b)(function(e){return{translations:(n=e.translations,n)};var n},function(e){return{markEditing:function(n){return e(function(e){return{type:"MARK_EDITING",id:e}}(n))}}})(b),m=t(9),y=t(3),g=t(10),j=t(11),O=t(13),E=t(12),k=t(4),C=t(14),I=function(e){function n(e){var t;return Object(g.a)(this,n),(t=Object(O.a)(this,Object(E.a)(n).call(this,e))).handleChange=t.handleChange.bind(Object(k.a)(t)),t.state={selectedKey:t.props.selectedKey,translation:t.props.translation||""},t}return Object(C.a)(n,e),Object(j.a)(n,[{key:"handleChange",value:function(e){var n=e.target.value;this.setState({translation:n}),this.props.onChange({locale:this.props.locale,translation:n})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,this.props.locale),r.a.createElement("textarea",{value:this.state.translation,rows:"4",cols:"50",onChange:this.handleChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return n.selectedKey!==e.selectedKey?{selectedKey:e.selectedKey,translation:e.translation||""}:null}}]),n}(r.a.Component),K=function(e){function n(e){var t;return Object(g.a)(this,n),(t=Object(O.a)(this,Object(E.a)(n).call(this,e))).state=Object(y.a)({},e.translation),t.handleSubmit=t.handleSubmit.bind(Object(k.a)(t)),t.onInputChange=t.onInputChange.bind(Object(k.a)(t)),t}return Object(C.a)(n,e),Object(j.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.updateTranslation(Object(y.a)({},this.props.translation,this.state))}},{key:"onInputChange",value:function(e){var n=e.locale,t=e.translation;this.setState(Object(m.a)({},n,t))}},{key:"render",value:function(){var e=this.props.translation;return r.a.createElement("div",{className:h.a.scrollable},e&&r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(I,{locale:"fr",selectedKey:e.i18nKey,translation:e.fr,onChange:this.onInputChange}),r.a.createElement(I,{locale:"en",selectedKey:e.i18nKey,translation:e.en,onChange:this.onInputChange}),r.a.createElement("button",{type:"submit"}," Save ")))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.translation&&n.id===e.translation.id?null:Object(y.a)({},e.translation)}}]),n}(r.a.Component),T=Object(l.b)(function(e){return{translation:(n=e.translations,n.find(function(e){return e.editing}))};var n},function(e){return{updateTranslation:function(n){return e({type:"EDIT_TRANSLATION",id:(t=n).id,fr:t.fr,en:t.en});var t}}})(K);var w=function(e){var n=e.addTranslation,t=function(e){var t=JSON.parse(e.target.result).fr;(function e(n){return Object.keys(n).map(function(t){return n[t]&&"object"==typeof n[t]?e(n[t]).flat().flat().map(function(e){return t+"."+e}):t}).flat()})(t).map(function(e){return n(e,function(e,n){for(var t=n,a=0;a<e.length;++a)t=t[e[a]];return t}(e.split("."),t),null)})};return r.a.createElement("input",{type:"file",multiple:!0,accept:".json,application/json",onChange:function(e){return(n=e).preventDefault(),void Array.from(n.target.files).forEach(function(e){var n=new FileReader;n.onloadend=t,n.readAsText(e)});var n}})},A=Object(l.b)(null,function(e){return{addTranslation:function(n,t,a){return e({type:"ADD_TRANSLATION",key:(r={key:n,fr:t,en:a}).key,fr:r.fr,en:r.en});var r}}})(w);function N(e,n,t){var a=t,r=e.split(".");return r.forEach(function(e,t){t===r.length-1?a[e]=n:(a[e]||(a[e]={}),a=a[e])}),t}var S=function(e){var n=e.translations,t=function(e){e.preventDefault();var t=function(e){var n={};e.forEach(function(e){N(e.i18nKey,e.fr,n)});var t={};return e.forEach(function(e){N(e.i18nKey,e.en,t)}),[{fr:n},{en:t}]}(n);console.log(t)};return r.a.createElement("button",{onClick:function(e){return t(e)}},"Export")},_=Object(l.b)(function(e){return{translations:e.translations}},null)(S);var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(v,null),r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(6),R=t(23),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_TRANSLATION":return-1!==e.findIndex(function(e){return e.i18nKey===n.key})?e:[].concat(Object(R.a)(e),[{id:n.key,i18nKey:n.key,fr:n.fr,en:n.en,editing:!1}]);case"EDIT_TRANSLATION":return e.map(function(e){return e.id===n.id?Object(y.a)({},e,{fr:n.fr,en:n.en}):e});case"MARK_EDITING":return e.map(function(e){return e.id===n.id?Object(y.a)({},e,{editing:!0}):Object(y.a)({},e,{editing:!1})});default:return e}},F=Object(x.b)({translations:L}),G=Object(x.c)(F);o.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,n,t){e.exports={scrollable:"scrollable-menu_scrollable__290n9"}}},[[24,1,2]]]);
//# sourceMappingURL=main.5c40493c.chunk.js.map